<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>HTML and CSS Learning</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <!-- As a heading -->
    <nav class="navbar navbar-dark bg-dark px-4">
      <div class="container-fluid">
        <span class="navbar-brand mb-0 h1">HTML and CSS Learning</span>
        <span class="navbar-brand mb-0 h1">Daca Code</span>
      </div>
    </nav>
    <div class="container mt-4">
      <div class="row">
        <div class="col-md-6">
          <h1>Contenido</h1>
          <hr>
          <ul class="list-group" id="links">
            
          </ul>
        </div>
      </div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
      crossorigin="anonymous"
    ></script>
    <script>
      const ulLinks = document.querySelector('#links');
      const url = "https://api.github.com/repos/Daca-Dev/html-css-learning/contents";
      let resp;

      function buildLitag(href = '#', text) {
        const a = document.createElement('a');
        
        a.classList.add('list-group-item', 'list-group-item-action');
        a.href = href;
        a.textContent = text;
        ulLinks.appendChild(a);
      }

      fetch(url, { method: "GET" })
        .then((response) => response.json())
        .then((files) => {
          const paths = files.filter(({ name }) => {
            const re = /^\d\d-.*/
            return name !== "index.html" && re.test(name)
          });
          paths.forEach((path, index) => {
            buildLitag(`./${path.name}`, `${index + 1}. ${path.name.replace('-', ' ').slice(3)}`)
          })
        });
    </script>
  </body>
</html>
